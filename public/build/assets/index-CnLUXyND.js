import{r as d,W as N,j as e,b as S}from"./app-BadaPud8.js";import{p as b}from"./profile-Dcl-SGZY.js";import{N as C}from"./index-0FJAL4J5.js";import{I as B}from"./InputError-AxFZEc37.js";import"./Dropdown-BawTi_Ww.js";import"./transition-qS0iyqt7.js";const D="/build/assets/rightArrowIcon-BVDLVS9k.svg",y="/build/assets/leftArrowIcon-BpHQHzcZ.svg",k="_container_1s92x_1",I="_title_1s92x_8",T="_visitContainer_1s92x_16",L="_row_1s92x_25",$="_profilePhoto_1s92x_32",w="_doctorInfo_1s92x_40",q="_info_1s92x_44",A="_doctorName_1s92x_50",E="_profession_1s92x_57",P="_groupContainer_1s92x_66",W="_group_1s92x_66",H="_groupTitle_1s92x_76",G="_groupDesc_1s92x_83",M="_iconContainer_1s92x_92",Q="_link_1s92x_101",V="_linkIcon_1s92x_112",U="_btn_1s92x_117",z="_btnGroup_1s92x_130",n={container:k,title:I,visitContainer:T,row:L,profilePhoto:$,doctorInfo:w,info:q,doctorName:A,profession:E,groupContainer:P,group:W,groupTitle:H,groupDesc:G,iconContainer:M,link:Q,linkIcon:V,btn:U,btnGroup:z},F="_container_lum5c_1",R="_title_lum5c_9",Z="_tabMenu_lum5c_15",J="_tabBtn_lum5c_39",K="_active_lum5c_51",O="_appointmentDateContainer_lum5c_55",X="_divider_lum5c_59",Y="_submitBtn_lum5c_66",ee="_dateTitle_lum5c_78",te="_dateSelect_lum5c_84",oe="_scrollBtn_lum5c_90",se="_inactive_lum5c_101",ne="_dateSelectContainer_lum5c_105",ce="_dateBoxContainer_lum5c_109",ie="_dateBox_lum5c_109",ae="_selectedDateBox_lum5c_128",le="_dateBoxTitle_lum5c_131",re="_dateBoxDayInfo_lum5c_138",de="_timeSelectContainer_lum5c_148",me="_timeSelect_lum5c_148",_e="_timeBox_lum5c_159",ue="_timeBoxSelected_lum5c_168",xe="_timeBoxDisabled_lum5c_171",t={container:F,title:R,tabMenu:Z,tabBtn:J,active:K,appointmentDateContainer:O,divider:X,submitBtn:Y,dateTitle:ee,dateSelect:te,scrollBtn:oe,inactive:se,dateSelectContainer:ne,dateBoxContainer:ce,dateBox:ie,selectedDateBox:ae,dateBoxTitle:le,dateBoxDayInfo:re,timeSelectContainer:de,timeSelect:me,timeBox:_e,timeBoxSelected:ue,timeBoxDisabled:xe},he=({dates:c,reservation:i,auth:a})=>{const[p,f]=d.useState([]);d.useState("online");const{data:Be,setData:m,post:v,get:pe,processing:fe,errors:_,reset:ve}=N({date:c[0].date,hour:null,online:1,quick_key:i.key}),g=()=>{v(route("quick.accept"))},u=o=>{S.get("/reservation/get_hours?date="+o+"&employeeUID="+a.user.uid,{date:o,employeeUID:a.user.uid}).then(s=>{m("date",o),f(s.data.hours),document.querySelectorAll(`.${t.dateBox}`).forEach(h=>{h.classList.remove(t.selectedDateBox)}),document.querySelector(`.${t.dateBox}[data-date="${o}"]`).classList.add(t.selectedDateBox)})},j=o=>{const s=o.target.getAttribute("data-hour");m("hour",s),document.querySelectorAll(`.${t.timeBox}`).forEach(r=>{r.classList.remove(t.timeBoxSelected)}),o.target.classList.add(t.timeBoxSelected)};d.useEffect(()=>{u(c[0].date)},[]);const x=o=>{const s=document.querySelector(`.${t.dateBoxContainer}`),l=200,r=o==="left"?-l:l;s.scrollBy({top:0,left:r,behavior:"smooth"}),document.querySelector(`.${t.scrollBtn}`).classList.remove(t.inactive),s.addEventListener("scroll",()=>{s.scrollLeft===0&&document.querySelector(`.${t.scrollBtn}.left`).classList.add(t.inactive),s.scrollLeft===s.scrollWidth-s.clientWidth&&document.querySelector(`.${t.scrollBtn}.right`).classList.add(t.inactive),s.scrollLeft!==s.scrollWidth-s.clientWidth&&document.querySelector(`.${t.scrollBtn}.right`).classList.remove(t.inactive)})};return e.jsxs("div",{className:t.container,children:[e.jsx("h6",{className:t.title,children:"Nächstmöglicher Termin"}),e.jsxs("div",{className:t.appointmentDateContainer,children:[e.jsxs("div",{className:t.dateSelectContainer,children:[e.jsx("h5",{className:t.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:t.dateSelect,children:[e.jsx("button",{className:[t.scrollBtn,t.inactive].join(" "),onClick:()=>x("left"),children:e.jsx("img",{src:y,alt:""})}),e.jsx("div",{className:t.dateBoxContainer,children:c.map((o,s)=>e.jsxs("div",{className:t.dateBox,onClick:()=>u(o.date),"data-date":o.date,children:[e.jsx("h6",{className:t.dateBoxTitle,children:o.day}),e.jsx("p",{className:t.dateBoxDayInfo,children:o.weekday})]},s))}),e.jsx("button",{className:t.scrollBtn,onClick:()=>x("right"),children:e.jsx("img",{src:D,alt:""})})]}),e.jsx(B,{message:_.date})]}),e.jsx("div",{className:t.divider}),e.jsxs("div",{className:t.timeSelectContainer,children:[e.jsx("h5",{className:t.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:t.timeSelect,children:p.map((o,s)=>e.jsx("div",{className:[t.timeBox].join(" "),onClick:()=>j(event),"data-hour":o,children:o},s))}),e.jsx(B,{message:_.hour})]}),e.jsx("button",{className:t.submitBtn,onClick:()=>g(),children:"Termin vereinbaren"})]})]})},De=({auth:c,reservation:i,dates:a})=>e.jsxs(e.Fragment,{children:[e.jsx(C,{user:c.user}),e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsxs("div",{className:n.container,children:[e.jsx("h4",{className:n.title,children:"Termindetails"}),e.jsxs("div",{className:n.visitContainer,children:[e.jsx("div",{className:n.row,children:e.jsxs("div",{className:n.doctorInfo,children:[e.jsx("img",{src:i.patient.profile_image?"/images/"+i.patient.profile_image:b,alt:"",className:n.profilePhoto}),e.jsx("div",{className:n.info,children:e.jsxs("h5",{className:n.doctorName,children:["Patient,",i.patient.name]})})]})}),e.jsx("div",{className:n.row,children:e.jsx(he,{dates:a,reservation:i,auth:c})})]})]})})]});export{De as default};
