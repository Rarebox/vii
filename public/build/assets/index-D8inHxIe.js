import{r as d,W as Q,j as e,Y as E}from"./app-BadaPud8.js";import{l as P,I as z,N as H}from"./index-0FJAL4J5.js";import{H as W}from"./index-Bk1BbUPO.js";import{F as w,a as $,b as S,c as I}from"./index-CJa2RNPb.js";import"./Dropdown-BawTi_Ww.js";import"./transition-qS0iyqt7.js";const M="_container_n6iug_1",R="_content_n6iug_6",V="_left_n6iug_12",q="_imgContainer_n6iug_17",K="_profileImg_n6iug_21",U="_doctorInfoContainer_n6iug_26",O="_right_n6iug_30",Y="_doctorName_n6iug_34",G="_doctorProfession_n6iug_40",J="_dateSelect_n6iug_47",X="_scrollBtn_n6iug_55",Z="_inactive_n6iug_66",ee="_dateSelectContainer_n6iug_70",te="_dateBoxContainer_n6iug_74",se="_dateBox_n6iug_74",ne="_selectedDateBox_n6iug_96",ae="_dateBoxTitle_n6iug_102",ie="_dateBoxDayInfo_n6iug_110",ce="_submitBtnQuick_n6iug_118",oe={container:M,content:R,left:V,imgContainer:q,profileImg:K,doctorInfoContainer:U,right:O,doctorName:Y,doctorProfession:G,dateSelect:J,scrollBtn:X,inactive:Z,dateSelectContainer:ee,dateBoxContainer:te,dateBox:se,selectedDateBox:ne,dateBoxTitle:ae,dateBoxDayInfo:ie,submitBtnQuick:ce},re="_container_n6iug_1",le="_content_n6iug_6",de="_left_n6iug_12",xe="_imgContainer_n6iug_17",me="_profileImg_n6iug_21",ue="_doctorInfoContainer_n6iug_26",be="_right_n6iug_30",he="_doctorName_n6iug_34",ge="_doctorProfession_n6iug_40",fe="_dateSelect_n6iug_47",_e="_scrollBtn_n6iug_55",je="_inactive_n6iug_66",pe="_dateSelectContainer_n6iug_70",Ne="_dateBoxContainer_n6iug_74",Be="_dateBox_n6iug_74",ve="_selectedDateBox_n6iug_96",Ce="_dateBoxTitle_n6iug_102",ke="_dateBoxDayInfo_n6iug_110",we="_submitBtnQuick_n6iug_118",n={container:re,content:le,left:de,imgContainer:xe,profileImg:me,doctorInfoContainer:ue,right:be,doctorName:he,doctorProfession:ge,dateSelect:fe,scrollBtn:_e,inactive:je,dateSelectContainer:pe,dateBoxContainer:Ne,dateBox:Be,selectedDateBox:ve,dateBoxTitle:Ce,dateBoxDayInfo:ke,submitBtnQuick:we},y=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],D=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"];function $e({employee:a,type:m,dates:o,showMore:r,setShowMore:g}){const[l,f]=d.useState(m==="onsite"?"onsite":"online"),_=t=>{g(s=>({...s,[t]:!s[t]}))},[i,T]=d.useState(null),j=d.useRef({}),u=(t,s)=>{const c=j.current[s],h=200,C=t==="left"?-h:h;c.scrollBy({top:0,left:C,behavior:"smooth"});const x=c.previousElementSibling,k=c.nextElementSibling;c.addEventListener("scroll",()=>{c.scrollLeft===0?x.classList.add(n.inactive):x.classList.remove(n.inactive),c.scrollLeft>=c.scrollWidth-c.clientWidth?k.classList.add(n.inactive):k.classList.remove(n.inactive)})},B=t=>{f(t),p("online",t==="online"?1:0)},F=()=>{axios.get("/employee/get_blocked_hours/"+a.uid).then(t=>{T(t.data)})};d.useEffect(()=>{F()},[]),d.useState("");const{data:L,setData:p,post:A,get:Se,processing:Ie,errors:ye,reset:De}=Q({date:null,hour:null,time:"",online:m==="online"?1:0,employeeUID:a.uid}),b=t=>{const s=t.target.getAttribute("data-date"),c=t.target.getAttribute("data-hour"),h=s+" "+c;p("time",h),document.querySelectorAll(".timeBox").forEach(x=>{x.classList.remove("bg-[#c99b31]"),x.classList.remove("text-white")}),t.target.classList.add("bg-[#c99b31]"),t.target.classList.add("text-white")},N=()=>{console.log(L),A(route("reservation.check"))},v=()=>{const t=document.querySelectorAll('.timeBox[data-employee="'+a.uid+'"]');let s=null;t.forEach(c=>{s||c.hasAttribute("disabled")||(s=c,p("time",s.getAttribute("data-date")+" "+s.getAttribute("data-hour")),N())})};return e.jsx(e.Fragment,{children:a&&e.jsx("div",{className:"items-center mx-auto max-w-[1000px] p-2    ",children:e.jsxs("div",{className:"flex md:flex-row flex-col min-h-[380px] ",children:[e.jsxs("div",{className:"flex-1 md:w-1/2 w-full bg-white     border-r-[1px] shadow-md  ",children:[e.jsxs("div",{className:"flex flex-row gap-6 p-4 ",children:[e.jsx("img",{className:"rounded-full w-[100px] h-[100px] object-cover",src:a.profile_image?"/images/"+a.profile_image:P,alt:""}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"font-medium text-xl leading-6 ",children:[a.username," ",a.name]}),e.jsx("h4",{className:"font-normal text-base  ",children:"Pfleger"})]})]}),e.jsxs("div",{className:"p-6  relative",children:[e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>B("online"),className:`tab-item relative pb-3 cursor-pointer
                                        ${l==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab2",className:"flex gap-1 items-center   ",children:[e.jsx(z,{}),"Videosprechstunde"," "]})}),e.jsx("li",{onClick:()=>B("onsite"),className:`tab-item relative pb-3 cursor-pointer
                                        ${l==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab1",className:" ",children:["Vor-Ort-Termin"," "]})})]}),e.jsx("div",{className:"tab-content",children:l==="onsite"?e.jsxs("div",{className:"pt-5 flex gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-[#8c8a9a]"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"Karl-Marx-Str. 27, Berlin"}),e.jsx("span",{className:" text-[#627282] text-sm ",children:"Praxis Dr.med. Usan Thanabalasingam Facharzt für Innere Medizin und Kardiologie"})]})]}):e.jsx("div",{className:"pt-5"})})]})]}),e.jsx("div",{className:"flex-1 md:w-1/2 w-full bg-white shadow-md ",children:l==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:v,children:"Nächstmöglicher Termin"})}),e.jsx("div",{children:e.jsxs("div",{className:`${n.dateSelectContainer} `,children:[e.jsxs("div",{className:`${n.dateSelect}  `,children:[e.jsx("button",{className:`${n.scrollBtn} left ${n.inactive}`,onClick:()=>u("left",a.uid),children:e.jsx(w,{className:"text-white"})}),e.jsx("div",{className:`${n.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>j.current[a.uid]=t,children:i&&(r[a.uid]?o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:y.map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{b(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})):o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:y.slice(0,5).map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{b(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})))}),e.jsx("button",{className:`${n.scrollBtn} right`,onClick:()=>u("right",a.uid),children:e.jsx($,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>_(a.uid),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:r[a.uid]?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(S,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(I,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:N,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:v,children:"Nächstmöglicher Termin"})}),e.jsxs("div",{className:`${n.dateSelectContainer} `,children:[e.jsxs("div",{className:`${n.dateSelect}  `,children:[e.jsx("button",{className:`${n.scrollBtn} left ${n.inactive}`,onClick:()=>u("left",a.uid),children:e.jsx(w,{className:"text-white"})}),e.jsx("div",{className:`${n.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>j.current[a.uid]=t,children:i&&(r[a.uid]?o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{b(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})):o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.slice(0,5).map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{b(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})))}),e.jsx("button",{className:`${n.scrollBtn} right`,onClick:()=>u("right",a.uid),children:e.jsx($,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>_(a.uid),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:r[a.uid]?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(S,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(I,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:N,"data-employee":"submit-"+a.uid,children:"Termin vereinbaren"})})]})})]})})})}function Pe({auth:a,employees:m,type:o,dates:r}){const[g,l]=d.useState({});return e.jsxs(e.Fragment,{children:[e.jsx(H,{user:a.user}),e.jsx(E,{title:"Welcome"}),e.jsx("div",{className:`   ${oe.container}`,children:m.map((f,_)=>e.jsx($e,{dates:r,type:o,employee:f,showMore:g,setShowMore:l}))})]})}export{Pe as default};
