import{r as d,W as Q,j as e,Y as E}from"./app-BIEula0p.js";import{l as P,I as z,N as H}from"./index-BtMszlmd.js";import{H as W}from"./index-Pz2xR59u.js";import{F as w,a as $,b as S,c as I}from"./index-DdGNLbV7.js";import"./Dropdown-CmCu7-N1.js";import"./transition-BLMPNg7n.js";const M="_container_3ij9x_1",R="_content_3ij9x_11",V="_left_3ij9x_23",q="_imgContainer_3ij9x_33",K="_profileImg_3ij9x_41",U="_doctorInfoContainer_3ij9x_51",O="_right_3ij9x_59",Y="_doctorName_3ij9x_67",G="_doctorProfession_3ij9x_79",J="_dateSelect_3ij9x_93",X="_scrollBtn_3ij9x_109",Z="_inactive_3ij9x_131",ee="_dateSelectContainer_3ij9x_139",te="_dateBoxContainer_3ij9x_147",se="_dateBox_3ij9x_147",ae="_selectedDateBox_3ij9x_191",ne="_dateBoxTitle_3ij9x_203",ie="_dateBoxDayInfo_3ij9x_219",ce="_submitBtnQuick_3ij9x_235",oe={container:M,content:R,left:V,imgContainer:q,profileImg:K,doctorInfoContainer:U,right:O,doctorName:Y,doctorProfession:G,dateSelect:J,scrollBtn:X,inactive:Z,dateSelectContainer:ee,dateBoxContainer:te,dateBox:se,selectedDateBox:ae,dateBoxTitle:ne,dateBoxDayInfo:ie,submitBtnQuick:ce},re="_container_3ij9x_1",le="_content_3ij9x_11",de="_left_3ij9x_23",xe="_imgContainer_3ij9x_33",me="_profileImg_3ij9x_41",be="_doctorInfoContainer_3ij9x_51",he="_right_3ij9x_59",je="_doctorName_3ij9x_67",ue="_doctorProfession_3ij9x_79",fe="_dateSelect_3ij9x_93",_e="_scrollBtn_3ij9x_109",ge="_inactive_3ij9x_131",pe="_dateSelectContainer_3ij9x_139",Ne="_dateBoxContainer_3ij9x_147",Be="_dateBox_3ij9x_147",ve="_selectedDateBox_3ij9x_191",Ce="_dateBoxTitle_3ij9x_203",ke="_dateBoxDayInfo_3ij9x_219",we="_submitBtnQuick_3ij9x_235",a={container:re,content:le,left:de,imgContainer:xe,profileImg:me,doctorInfoContainer:be,right:he,doctorName:je,doctorProfession:ue,dateSelect:fe,scrollBtn:_e,inactive:ge,dateSelectContainer:pe,dateBoxContainer:Ne,dateBox:Be,selectedDateBox:ve,dateBoxTitle:Ce,dateBoxDayInfo:ke,submitBtnQuick:we},y=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],D=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"];function $e({employee:n,type:m,dates:o,showMore:r,setShowMore:u}){const[l,f]=d.useState(m==="onsite"?"onsite":"online"),_=t=>{u(s=>({...s,[t]:!s[t]}))},[i,T]=d.useState(null),g=d.useRef({}),b=(t,s)=>{const c=g.current[s],j=200,C=t==="left"?-j:j;c.scrollBy({top:0,left:C,behavior:"smooth"});const x=c.previousElementSibling,k=c.nextElementSibling;c.addEventListener("scroll",()=>{c.scrollLeft===0?x.classList.add(a.inactive):x.classList.remove(a.inactive),c.scrollLeft>=c.scrollWidth-c.clientWidth?k.classList.add(a.inactive):k.classList.remove(a.inactive)})},B=t=>{f(t),p("online",t==="online"?1:0)},F=()=>{axios.get("/employee/get_blocked_hours/"+n.uid).then(t=>{T(t.data)})};d.useEffect(()=>{F()},[]),d.useState("");const{data:L,setData:p,post:A,get:Se,processing:Ie,errors:ye,reset:De}=Q({date:null,hour:null,time:"",online:m==="online"?1:0,employeeUID:n.uid}),h=t=>{const s=t.target.getAttribute("data-date"),c=t.target.getAttribute("data-hour"),j=s+" "+c;p("time",j),document.querySelectorAll(".timeBox").forEach(x=>{x.classList.remove("bg-[#c99b31]"),x.classList.remove("text-white")}),t.target.classList.add("bg-[#c99b31]"),t.target.classList.add("text-white")},N=()=>{console.log(L),A(route("reservation.check"))},v=()=>{const t=document.querySelectorAll('.timeBox[data-employee="'+n.uid+'"]');let s=null;t.forEach(c=>{s||c.hasAttribute("disabled")||(s=c,p("time",s.getAttribute("data-date")+" "+s.getAttribute("data-hour")),N())})};return e.jsx(e.Fragment,{children:n&&e.jsx("div",{className:"items-center mx-auto max-w-[1000px] p-2    ",children:e.jsxs("div",{className:"flex md:flex-row flex-col min-h-[380px] ",children:[e.jsxs("div",{className:"flex-1 md:w-1/2 w-full bg-white     border-r-[1px] shadow-md  ",children:[e.jsxs("div",{className:"flex flex-row gap-6 p-4 ",children:[e.jsx("img",{className:"rounded-full w-[100px] h-[100px] object-cover",src:n.profile_image?"/images/"+n.profile_image:P,alt:""}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"font-medium text-xl leading-6 ",children:[n.username," ",n.name]}),e.jsx("h4",{className:"font-normal text-base  ",children:"Pfleger"})]})]}),e.jsxs("div",{className:"p-6  relative",children:[e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>B("online"),className:`tab-item relative pb-3 cursor-pointer
                                        ${l==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab2",className:"flex gap-1 items-center   ",children:[e.jsx(z,{}),"Videosprechstunde"," "]})}),e.jsx("li",{onClick:()=>B("onsite"),className:`tab-item relative pb-3 cursor-pointer
                                        ${l==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab1",className:" ",children:["Vor-Ort-Termin"," "]})})]}),e.jsx("div",{className:"tab-content",children:l==="onsite"?e.jsxs("div",{className:"pt-5 flex gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-[#8c8a9a]"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"Karl-Marx-Str. 27, Berlin"}),e.jsx("span",{className:" text-[#627282] text-sm ",children:"Praxis Dr.med. Usan Thanabalasingam Facharzt für Innere Medizin und Kardiologie"})]})]}):e.jsx("div",{className:"pt-5"})})]})]}),e.jsx("div",{className:"flex-1 md:w-1/2 w-full bg-white shadow-md ",children:l==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:v,children:"Nächstmöglicher Termin"})}),e.jsx("div",{children:e.jsxs("div",{className:`${a.dateSelectContainer} `,children:[e.jsxs("div",{className:`${a.dateSelect}  `,children:[e.jsx("button",{className:`${a.scrollBtn} left ${a.inactive}`,onClick:()=>b("left",n.uid),children:e.jsx(w,{className:"text-white"})}),e.jsx("div",{className:`${a.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>g.current[n.uid]=t,children:i&&(r[n.uid]?o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:y.map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":n.uid,children:s}))})]})):o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:y.slice(0,5).map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":n.uid,children:s}))})]})))}),e.jsx("button",{className:`${a.scrollBtn} right`,onClick:()=>b("right",n.uid),children:e.jsx($,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>_(n.uid),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:r[n.uid]?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(S,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(I,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:N,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:v,children:"Nächstmöglicher Termin"})}),e.jsxs("div",{className:`${a.dateSelectContainer} `,children:[e.jsxs("div",{className:`${a.dateSelect}  `,children:[e.jsx("button",{className:`${a.scrollBtn} left ${a.inactive}`,onClick:()=>b("left",n.uid),children:e.jsx(w,{className:"text-white"})}),e.jsx("div",{className:`${a.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>g.current[n.uid]=t,children:i&&(r[n.uid]?o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":n.uid,children:s}))})]})):o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.slice(0,5).map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":n.uid,children:s}))})]})))}),e.jsx("button",{className:`${a.scrollBtn} right`,onClick:()=>b("right",n.uid),children:e.jsx($,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>_(n.uid),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:r[n.uid]?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(S,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(I,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:N,"data-employee":"submit-"+n.uid,children:"Termin vereinbaren"})})]})})]})})})}function Pe({auth:n,employees:m,type:o,dates:r}){const[u,l]=d.useState({});return e.jsxs(e.Fragment,{children:[e.jsx(H,{user:n.user}),e.jsx(E,{title:"Welcome"}),e.jsx("div",{className:`   ${oe.container}`,children:m.map((f,_)=>e.jsx($e,{dates:r,type:o,employee:f,showMore:u,setShowMore:l}))})]})}export{Pe as default};
