import{W as $,j as t,r as u,b as T}from"./app-B5DZan8_.js";import{l as k,r as y}from"./leftArrowIcon-DVJ2JtvN.js";import{I as D}from"./InputError-ssaxixHn.js";const L="_container_h7vx4_1",A="_title_h7vx4_17",I="_tabMenu_h7vx4_29",E="_tabBtn_h7vx4_77",M="_active_h7vx4_101",w="_appointmentDateContainer_h7vx4_109",Q="_divider_h7vx4_117",W="_submitBtn_h7vx4_131",R="_dateTitle_h7vx4_173",V="_dateSelect_h7vx4_185",H="_scrollBtn_h7vx4_197",O="_inactive_h7vx4_219",z="_dateSelectContainer_h7vx4_227",F="_dateBoxContainer_h7vx4_235",G="_dateBox_h7vx4_235",J="_selectedDateBox_h7vx4_295",K="_dateBoxTitle_h7vx4_307",P="_dateBoxDayInfo_h7vx4_323",X="_timeSelectContainer_h7vx4_343",Y="_timeSelect_h7vx4_343",Z="_timeBox_h7vx4_365",U="_timeBoxSelected_h7vx4_401",ee="_timeBoxDisabled_h7vx4_415",e={container:L,title:A,tabMenu:I,tabBtn:E,active:M,appointmentDateContainer:w,divider:Q,submitBtn:W,dateTitle:R,dateSelect:V,scrollBtn:H,inactive:O,dateSelectContainer:z,dateBoxContainer:F,dateBox:G,selectedDateBox:J,dateBoxTitle:K,dateBoxDayInfo:P,timeSelectContainer:X,timeSelect:Y,timeBox:Z,timeBoxSelected:U,timeBoxDisabled:ee},te="_container_1mqde_1",ne="_title_1mqde_17",oe="_tabMenu_1mqde_29",se="_tabBtn_1mqde_77",ie="_active_1mqde_101",ae="_appointmentDateContainer_1mqde_109",ce="_divider_1mqde_117",le="_submitBtnQuick_1mqde_131",re="_quickContainer_1mqde_191",de="_dateTitle_1mqde_205",me="_dateSelect_1mqde_217",_e="_scrollBtn_1mqde_229",xe="_inactive_1mqde_251",Be="_dateSelectContainer_1mqde_259",ue="_dateBoxContainer_1mqde_267",he="_dateBox_1mqde_267",ve="_selectedDateBox_1mqde_305",Se="_dateBoxTitle_1mqde_311",be="_dateBoxDayInfo_1mqde_325",Ce="_timeSelectContainer_1mqde_345",pe="_timeSelect_1mqde_345",qe="_timeBox_1mqde_367",je="_timeBoxSelected_1mqde_385",De="_timeBoxDisabled_1mqde_391",d={container:te,title:ne,tabMenu:oe,tabBtn:se,active:ie,appointmentDateContainer:ae,divider:ce,submitBtnQuick:le,quickContainer:re,dateTitle:de,dateSelect:me,scrollBtn:_e,inactive:xe,dateSelectContainer:Be,dateBoxContainer:ue,dateBox:he,selectedDateBox:ve,dateBoxTitle:Se,dateBoxDayInfo:be,timeSelectContainer:Ce,timeSelect:pe,timeBox:qe,timeBoxSelected:je,timeBoxDisabled:De},$e=({employeeUID:i,quickDate:s,quickHour:m})=>{const{data:_,setData:h,post:x,get:a,processing:v,errors:f,reset:c}=$({employeeUID:i}),B=()=>{x(route("reservation.quick"),_)};return t.jsxs("div",{className:d.quickContainer,children:[t.jsx("h6",{className:d.title,children:"Nächstmöglicher Termin Request"}),t.jsx("form",{className:d.form,onSubmit:S=>{S.preventDefault(),B()},children:t.jsx("button",{type:"submit",className:d.submitBtnQuick,children:"Nächstmöglicher Termin"})}),t.jsxs("center",{children:[s," ",m]})]})},fe=({dates:i,employeeUID:s,quickDate:m,quickHour:_})=>{const[h,x]=u.useState([]),[a,v]=u.useState("online"),{data:f,setData:c,post:B,get:S,processing:Ne,errors:b,reset:ge}=$({date:i[0].date,hour:null,online:1,employeeUID:s}),C=n=>{T.get("/reservation/get_hours?date="+n+"&employeeUID="+s,{date:n,employeeUID:s}).then(o=>{c("date",n),x(o.data.hours),document.querySelectorAll(`.${e.dateBox}`).forEach(j=>{j.classList.remove(e.selectedDateBox)}),document.querySelector(`.${e.dateBox}[data-date="${n}"]`).classList.add(e.selectedDateBox)})},N=n=>{const o=n.target.getAttribute("data-hour");c("hour",o),document.querySelectorAll(`.${e.timeBox}`).forEach(r=>{r.classList.remove(e.timeBoxSelected)}),n.target.classList.add(e.timeBoxSelected)},p=n=>{v(n),c("online",n==="online"?1:0)};u.useEffect(()=>{C(i[0].date)},[]);const g=()=>{B(route("reservation.check"))},q=n=>{const o=document.querySelector(`.${e.dateBoxContainer}`),l=200,r=n==="left"?-l:l;o.scrollBy({top:0,left:r,behavior:"smooth"}),document.querySelector(`.${e.scrollBtn}`).classList.remove(e.inactive),o.addEventListener("scroll",()=>{o.scrollLeft===0&&document.querySelector(`.${e.scrollBtn}.left`).classList.add(e.inactive),o.scrollLeft===o.scrollWidth-o.clientWidth&&document.querySelector(`.${e.scrollBtn}.right`).classList.add(e.inactive),o.scrollLeft!==o.scrollWidth-o.clientWidth&&document.querySelector(`.${e.scrollBtn}.right`).classList.remove(e.inactive)})};return t.jsxs("div",{className:e.container,children:[t.jsx($e,{employeeUID:s,quickDate:m,quickHour:_}),t.jsxs("div",{className:e.tabMenu,"aria-valuenow":a==="online"?"0":"1",children:[t.jsx("button",{className:[e.tabBtn,a=="online"&&e.active].join(" "),onClick:()=>p("online"),children:"Videosprechstunde"}),t.jsx("button",{className:[e.tabBtn,a=="onsite"&&e.active].join(" "),onClick:()=>p("onsite"),children:"Vor-Ort-Termin"})]}),t.jsxs("div",{className:e.appointmentDateContainer,children:[t.jsxs("div",{className:e.dateSelectContainer,children:[t.jsx("h5",{className:e.dateTitle,children:"Datum wählen"}),t.jsxs("div",{className:e.dateSelect,children:[t.jsx("button",{className:[e.scrollBtn,e.inactive].join(" "),onClick:()=>q("left"),children:t.jsx("img",{src:k,alt:""})}),t.jsx("div",{className:e.dateBoxContainer,children:i.map((n,o)=>t.jsxs("div",{className:e.dateBox,onClick:()=>C(n.date),"data-date":n.date,children:[t.jsx("h6",{className:e.dateBoxTitle,children:n.day}),t.jsx("p",{className:e.dateBoxDayInfo,children:n.weekday})]},o))}),t.jsx("button",{className:e.scrollBtn,onClick:()=>q("right"),children:t.jsx("img",{src:y,alt:""})})]}),t.jsx(D,{message:b.date})]}),t.jsx("div",{className:e.divider}),t.jsxs("div",{className:e.timeSelectContainer,children:[t.jsx("h5",{className:e.dateTitle,children:"Verfügbare Stunden"}),t.jsx("div",{className:`${e.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:h.map((n,o)=>t.jsx("div",{className:[e.timeBox].join(" "),onClick:()=>N(event),"data-hour":n,children:n},o))}),t.jsx(D,{message:b.hour})]}),t.jsx("button",{className:e.submitBtn,onClick:()=>g(),children:"Termin vereinbaren"})]})]})},Le=fe;export{Le as S};
